<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8">
<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="">
<meta name="generator" content="Hugo 0.28" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://vacoj.github.io/css/style.css" type="text/css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" type="text/css">
<link rel="alternate" href="https://vacoj.github.io/index.xml" type="application/rss+xml" title="stupid _ prizes">
<title>Pirrigo - stupid _ prizes</title>
</head>
<body>

<header>
  <div class="container clearfix">
    <a class="path" href="https://vacoj.github.io">[stupid _ prizes]</a>
    <span class="caret"># _</span>
    <div class="right">
      
    </div>
  </div>
</header>

<div class="container">


<main role="main" class="article">
  
<article class="single" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-09-26">September 26, 2017</time></span>


    <span class="key">in</span>
    <span class="val">

        <a href="https://vacoj.github.iocategories/projects">Projects</a>

    </span>


    <br>
    <span class="key">tags:</span>
    <span class="val">

        <a href="https://vacoj.github.iotags/irrigation">Irrigation</a>

        <a href="https://vacoj.github.iotags/raspberry-pi">Raspberry Pi</a>

        <a href="https://vacoj.github.iotags/sprinkler">Sprinkler</a>

        <a href="https://vacoj.github.iotags/low-volt-a/c">Low Volt A/C</a>

        <a href="https://vacoj.github.iotags/golang">Golang</a>

        <a href="https://vacoj.github.iotags/go">Go</a>

        <a href="https://vacoj.github.iotags/angularjs">AngularJS</a>

        <a href="https://vacoj.github.iotags/diy">DIY</a>

    </span>

  </div>
  <h1 class="headline" itemprop="headline">Pirrigo</h1>
  <section class="body" itemprop="articleBody">
    

<p><a href="https://github.com/vacoj/pirrigo">PirriGo</a> - Irrigation and garden management application, in Go and Angular.  Based on <a href="https://github.com/vacoj/pirri">Pirri</a>.</p>

<h2 id="live-demo-http-pirri-vacovsky-us">Live Demo: <a href="http://pirri.vacovsky.us">http://pirri.vacovsky.us</a></h2>

<h3 id="login-password-are-demo-demo">login/password are demo / demo</h3>

<h2 id="screenshots">Screenshots</h2>

<h3 id="login-page">Login page</h3>

<p><a href="https://raw.githubusercontent.com/vacoj/pirrigo/master/screenshots/login.png"><img src="https://raw.githubusercontent.com/vacoj/pirrigo/master/screenshots/login.png" alt="Stations" height="150"></a></p>

<h3 id="main-stations">Main / Stations</h3>

<p><a href="https://raw.githubusercontent.com/vacoj/pirrigo/master/screenshots/main.png"><img src="https://raw.githubusercontent.com/vacoj/pirrigo/master/screenshots/main.png" alt="Stations" height="150"></a></p>

<h3 id="calendar">Calendar</h3>

<p><a href="https://raw.githubusercontent.com/vacoj/pirrigo/master/screenshots/calendar.png"><img src="https://raw.githubusercontent.com/vacoj/pirrigo/master/screenshots/calendar.png" alt="Stations"  height="150"></a></p>

<h3 id="station-scheduler">Station Scheduler</h3>

<p><a href="https://raw.githubusercontent.com/vacoj/pirrigo/master/screenshots/scheduler.png"><img src="https://raw.githubusercontent.com/vacoj/pirrigo/master/screenshots/scheduler.png" alt="Stations"  height="150"></a></p>

<h3 id="history-of-activity">History of Activity</h3>

<p><a href="https://raw.githubusercontent.com/vacoj/pirrigo/master/screenshots/history.png"><img src="https://raw.githubusercontent.com/vacoj/pirrigo/master/screenshots/history.png" alt="Stations" height="150"></a></p>

<h3 id="charted-run-stats">Charted Run Stats</h3>

<p><a href="https://raw.githubusercontent.com/vacoj/pirrigo/master/screenshots/charts.png"><img src="https://raw.githubusercontent.com/vacoj/pirrigo/master/screenshots/charts.png" alt="Stations" height="150"></a></p>

<h3 id="usage">Usage</h3>

<p><a href="https://raw.githubusercontent.com/vacoj/pirrigo/master/screenshots/usage.png"><img src="https://raw.githubusercontent.com/vacoj/pirrigo/master/screenshots/usage.png" alt="Stations" height="150"></a></p>

<h2 id="features">Features</h2>

<ul>
<li>Activate irrigation zones on a schedule, or manually</li>
<li>Track total seconds spent watering by zone, day of the week, and other metrics</li>
<li>Estimate monthly costs to operate your irrigation system</li>
<li>Using WeatherUnderground, leverage current weather data to automatically regulate watering (increase in heat waves, reduce when rain will do the job for you)</li>
</ul>

<h2 id="setup">Setup</h2>

<h3 id="clone-repository-to-your-pi">Clone repository to your Pi</h3>

<pre><code class="language-bash">git clone https://github.com/vacoj/pirrigo.git
</code></pre>

<h3 id="installing-go-in-raspbian">Installing Go in Raspbian</h3>

<pre><code class="language-bash">wget https://storage.googleapis.com/golang/go1.7.linux-armv6l.tar.gz
sudo tar -C /usr/local -xzf go1.7.linux-armv6l.tar.gz
export PATH=/usr/local/go/bin:$PATH
</code></pre>

<h3 id="install-required-go-packages">Install required Go packages</h3>

<pre><code class="language-bash">go get &quot;github.com/davecgh/go-spew/spew&quot;
go get &quot;github.com/jinzhu/gorm&quot;
go get &quot;github.com/jinzhu/gorm/dialects/mysql&quot;
go get &quot;github.com/newrelic/go-agent&quot;
go get &quot;github.com/stianeikeland/go-rpio&quot;
go get &quot;github.com/streadway/amqp&quot;
</code></pre>

<h3 id="install-javascript-libraries-for-web">Install javascript libraries for web</h3>

<pre><code class="language-bash">cd pirrigo/src/pirri/static
bower install
</code></pre>

<h3 id="configuration-file-a-href-https-github-com-vacoj-pirrigo-blob-master-init-appconfig-json-example-a">Configuration file (<a href="https://github.com/vacoj/pirrigo/blob/master/init/appconfig.json">example</a>)</h3>

<pre><code class="language-javascript">{
    &quot;pirri&quot;: {
        &quot;utc_offset&quot;: -8,
        &quot;monitor_interval&quot;: 60,
        &quot;rain_skip&quot;: true,
        &quot;use_rabbit&quot;: false
    },
    &quot;rabbitmq&quot;: {
        &quot;server&quot;: &quot;123.213.21.111&quot;,
        &quot;port&quot;: &quot;5672&quot;,
        &quot;user&quot;: &quot;&quot;,
        &quot;secret&quot;: &quot;&quot;,
        &quot;task_queue&quot;: &quot;pirri_go_work&quot;
    },
    &quot;sql&quot;: {
        &quot;dbtype&quot;: &quot;mysql&quot;,
        &quot;server&quot;: &quot;192.168.111.50&quot;,
        &quot;user&quot;: &quot;pirri&quot;,
        &quot;secret&quot;: &quot;pirri&quot;,
        &quot;db&quot;: &quot;pirri_go&quot;,
        &quot;port&quot;: &quot;3306&quot;
    },
    &quot;newrelic&quot;: {
        &quot;active&quot;: true,
        &quot;license_path&quot;: &quot;../../../nr_key&quot;
    },
    &quot;redis&quot;: {
        &quot;host&quot;: &quot;192.168.111.50&quot;,
        &quot;port&quot;: &quot;6379&quot;
    },
    &quot;web&quot;: {
        &quot;port&quot;: &quot;8001&quot;,
        &quot;user&quot;: &quot;admin&quot;,
        &quot;secret&quot;: &quot;password&quot;
    },
    &quot;weather&quot;: {
        &quot;wunderground_key&quot;: &quot;&quot;,
        &quot;state_abbreviation&quot;: &quot;CA&quot;,
        &quot;city&quot;: &quot;Gardenville&quot;,
        &quot;units&quot;: &quot;imperial&quot;,
        &quot;station&quot;: &quot;KCAATASC69&quot;
    },
    &quot;debug&quot;: {
        &quot;pirri&quot;: true,
        &quot;gorm&quot;: false,
        &quot;settings&quot;: false,
        &quot;simulate_gpio&quot;: true
    }
}
</code></pre>

<h3 id="running-app">Running app</h3>

<pre><code class="language-bash">cd pirrigo/src/pirri
./pirri /path/to/config.json
</code></pre>

<h2 id="notes">Notes</h2>

<h4 id="todo">TODO</h4>

<ul>
<li>Provide hardware assembly instructions</li>
<li>Better automate initial stand-up of database</li>
<li>Finish making the front end less offensive.</li>
<li>Make the calendar interactive (like in the original version, but prettier and more functional)</li>
</ul>

<h4 id="manual-submission-of-a-station-run-with-curl">Manual submission of a station run with curl</h4>

<p>(when not using authentication)</p>

<pre><code class="language-bash">curl -X POST -d &quot;{\&quot;StationID\&quot;: 2, \&quot;Duration\&quot;: 60}&quot; http://localhost:8001/station/run
</code></pre>

<h5 id="in-case-you-re-feeling-generous">In case you&rsquo;re feeling generous</h5>

<p>Bitcoin address: 17FC2XP5phFFupAn2w4dGCwQuDUWRXE4EQ</p>

  </section>
</article>

</main>


</div>

<footer>
  <div class="container">
    <span class="copyright">&copy; 2017  stupid _ prizes - <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></span>
  </div>
</footer>

</body>
</html>

